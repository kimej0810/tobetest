<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Config 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="tobe.project.mapper.memberMapper">
 	<select id="selectAllMember" resultType="memberVO">
 		select * from tobe_member where delyn = 'N' order by tidx desc
 	</select>
 	<select id="searchDepartmentMember" resultType="memberVO">
 		select * from tobe_member where t_department = #{t_department} order by tidx desc
 	</select>
    <select id="selectOneMemberIdx" resultType="memberVO">
    	select * from tobe_member where tidx = #{tidx}
    </select>
    <select id="searchMember" resultType="memberVO">
    	SELECT * FROM TOBE_MEMBER WHERE DELYN = 'N'
		AND T_DEPARTMENT = #{t_department} AND T_NAME LIKE '%'||#{t_name}||'%'
    	ORDER BY TIDX DESC
    </select>
    <!-- 06-15추가 -->
    <select id="selectMember" resultType="memberVO">
 		select * from tobe_user order by tidx asc
 	</select>
 	<!-- 로그인, 아이디 비밀번호 조회 -->
 	<select id="login" resultType="MemberVO">
 		select * from tobe_member
 		where t_id = #{t_id}
 	</select>
 	
 	<!-- 비밀번호 변경 -->
 	<update id="modifyPwd">
 		update tobe_member set t_pwd = #{t_pwd} where t_id = #{t_id} 
 	</update>
 	
 	<select id="checkId" resultType="int">
 		select count(*) from tobe_member
 		where t_id = #{id}
 	</select>
 	<!-- 아이디넣고 정보빼기 -->
 	<select id="selectOneMemberId" resultType="memberVO">
 		SELECT * FROM TOBE_MEMBER WHERE T_ID = #{t_id}
 	</select>
 	 	
 	<select id="selectOneEmail" resultType="memberVO">
 		select * from tobe_member
 		where t_id = #{t_id}
 	</select>
 	<!-- 사원정보 수정 -->
 	<update id="memberUpdate">
 		update tobe_member set
 		t_pwd = #{t_pwd},
 		t_department = #{t_department},
 		t_position = #{t_position},
 		t_email = #{t_email},
 		t_phone = #{t_phone},
 		t_addr_zipcode = #{t_addr_zipcode},
 		t_addr_general = #{t_addr_general},
 		t_addr_detail = #{t_addr_detail}
 		where t_id = #{t_id}
 	</update>
</mapper>
